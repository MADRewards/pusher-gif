/*! pusher-gif (v1.0.0) - Copyright: 2013, Nathan Walker <nathan.walker@infowrap.com>,Kirk Strobeck <kirk.strobeck@infowrap.com> MIT */
function bitstream(){this.bit=1,this.byte_=0,this.data="",this.write_bit=bitstream_write_bit,this.get=bitstream_get}function bitstream_write_bit(a){a&&(this.byte_|=this.bit),this.bit<<=1,256==this.bit&&(this.bit=1,this.data+=String.fromCharCode(this.byte_),this.byte_=0)}function bitstream_get(){var a="",b=this.data;for(1!=this.bit&&(b+=String.fromCharCode(this.byte_)),i=0;i<b.length+1;i+=255)chunklen=b.length-i,0>chunklen&&(chunklen=0),chunklen>255&&(chunklen=255),a+=String.fromCharCode(chunklen)+b.substring(i,i+255);return a+"\x00"}function make_glif(a,b,c,d,e,f){var g=String.fromCharCode(a%256)+String.fromCharCode(a/256)+String.fromCharCode(b%256)+String.fromCharCode(b/256);gif="GIF89a"+g+"ð\x00\x00ÿÿÿ"+String.fromCharCode(d)+String.fromCharCode(e)+String.fromCharCode(f)+"!ù\x00\x00\x00\x00,\x00\x00\x00\x00"+g+"\x00";var h=new bitstream;for(y=0;b>y;y++)for(x=0;a>x;x++)h.write_bit(c[x+a*y]),h.write_bit(0),h.write_bit(0),h.write_bit(0),h.write_bit(0),h.write_bit(1);return gif+=h.get()+";","data:image/gif;base64,"+B64.encode(gif)}angular.module("pusher-gif",[]).factory("pusherGifService",function(){var a;return a={},a.make=function(a,b){var c,d,e,f;for(c=a*b,e=new Array(c),d=f=1;c>f;d=f+=1)e[f]=0;return make_glif(a,b,e)},a}).directive("pusherGif",["pusherGifService",function(a){return{restrict:"A",compile:function(b,c){var d,e;return e=+c.width,d=+c.height,b.attr("src",a.make(e,d)),function(){}}}}]);